<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/WalletGetterLib.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> WalletGetterLib.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">52.17% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>12/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">71.43% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>10/14</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">48.15% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>13/27</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">pragma solidity 0.4.15;
&nbsp;
/**
 * @title Wallet Getter Library
 * @author Majoolr.io
 *
 * version 1.0.0
 * Copyright (c) 2017 Majoolr, LLC
 * The MIT License (MIT)
 * https://github.com/Majoolr/ethereum-libraries/blob/master/LICENSE
 *
 * The Wallet Library family is inspired by the multisig wallets built by Consensys
 * at https://github.com/ConsenSys/MultiSigWallet and Parity at
 * https://github.com/paritytech/contracts/blob/master/Wallet.sol with added
 * functionality. Majoolr works on open source projects in the Ethereum
 * community with the purpose of testing, documenting, and deploying reusable
 * code onto the blockchain to improve security and usability of smart contracts.
 * Majoolr also strives to educate non-profits, schools, and other community
 * members about the application of blockchain technology. For further
 * information: majoolr.io, consensys.net, paritytech.io
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
&nbsp;
import "./WalletMainLib.sol";
&nbsp;
library WalletGetterLib {
&nbsp;
  /*Getter Functions*/
&nbsp;
  /// @dev Get list of wallet owners, will return fixed 50 until fork
  /// @param self Wallet in contract storage
  /// @return address[51] Returns entire 51 owner slots
  function getOwners(WalletMainLib.WalletData storage self) constant returns (address[51]) {
    address[51] memory o;
    for(uint i = 0; i&lt;self.owners.length; i++){
      o[i] = self.owners[i];
    }
    return o;
  }
&nbsp;
  /// @dev Get index of an owner
  /// @param self Wallet in contract storage
  /// @param _owner Address of owner
  /// @return uint Index of the owner
  function getOwnerIndex(WalletMainLib.WalletData storage self, address _owner) constant returns (uint) {
    return self.ownerIndex[_owner];
  }
&nbsp;
  /// @dev Get max number of wallet owners
  /// @param self Wallet in contract storage
  /// @return uint Maximum number of owners
  function getMaxOwners(WalletMainLib.WalletData storage self) constant returns (uint) {
    return self.maxOwners;
  }
&nbsp;
  /// @dev Get number of wallet owners
  /// @param self Wallet in contract storage
  /// @return uint Number of owners
  function getOwnerCount(WalletMainLib.WalletData storage self) constant returns (uint) {
    return self.owners.length - 1;
  }
&nbsp;
  /// @dev Get sig requirements for administrative changes
  /// @param self Wallet in contract storage
  /// @return uint Number of sigs required
  function getRequiredAdmin(WalletMainLib.WalletData storage self) constant returns (uint) {
    return self.requiredAdmin;
  }
&nbsp;
  /// @dev Get sig requirements for minor tx spends
  /// @param self Wallet in contract storage
  /// @return uint Number of sigs required
  function getRequiredMinor(WalletMainLib.WalletData storage self) constant returns (uint) {
    return self.requiredMinor;
  }
&nbsp;
  /// @dev Get sig requirements for major tx spends
  /// @param self Wallet in contract storage
  /// @return uint Number of sigs required
  function getRequiredMajor(WalletMainLib.WalletData storage self) constant returns (uint) {
    return self.requiredMajor;
  }
&nbsp;
  /// @dev Get current day spend for token
  /// @param self Wallet in contract storage
  /// @param _token Address of token, 0 for ether
  /// @return uint[2] 0-index is day timestamp, 1-index is the day spend
<span class="fstat-no" title="function not covered" >  function getCurrentSpend(WalletMainLib.WalletData storage self, address _token) constant returns (uint[2]) </span>{
    uint[2] memory cs;
<span class="cstat-no" title="statement not covered" >    cs[0] = self.currentSpend[_token][0]</span>;
<span class="cstat-no" title="statement not covered" >    cs[1] = self.currentSpend[_token][1]</span>;
<span class="cstat-no" title="statement not covered" >    return cs;</span>
  }
&nbsp;
  /// @dev Get major tx threshold per token
  /// @param self Wallet in contract storage
  /// @param _token Address of token, 0 for ether
  /// @return uint Threshold amount
  function getMajorThreshold(WalletMainLib.WalletData storage self, address _token) constant returns (uint) {
    return self.majorThreshold[_token];
  }
&nbsp;
  /// @dev Get last 10 transactions for the day, fixed at 10 until fork
  /// @param self Wallet in contract storage
  /// @param _date Timestamp of day requested
  /// @return bytes32[10] Last 10 tx's starting with latest
<span class="fstat-no" title="function not covered" >  function getTransactions(WalletMainLib.WalletData storage self, uint _date) constant returns (bytes32[10]) </span>{
    bytes32[10] memory t;
<span class="cstat-no" title="statement not covered" >    uint li = self.transactions[_date].length - 1</span>;
<span class="cstat-no" title="statement not covered" >    for(uint i = li; i &gt;= 0; i--){</span>
<span class="cstat-no" title="statement not covered" >      t[li - i] = self.transactions[_date][i]</span>;
    }
<span class="cstat-no" title="statement not covered" >    return t;</span>
  }
&nbsp;
  /// @dev Get the number of tx's with the same id
  /// @param self Wallet in contract storage
  /// @param _id ID of transactions requested
  /// @return uint Number of tx's with same ID
  function getTransactionLength(WalletMainLib.WalletData storage self, bytes32 _id) constant returns (uint) {
    return self.transactionInfo[_id].length;
  }
&nbsp;
  /// @dev Get list of confirmations for a tx, use getTransactionLength to get latest number
  /// @param self Wallet in contract storage
  /// @param _id ID of transaction requested
  /// @param _number The transaction index number
  /// @return uint256[50] Returns list of confirmations, fixed at 50 until fork
<span class="fstat-no" title="function not covered" >  function getTransactionConfirms(WalletMainLib.WalletData storage self,</span>
                                  bytes32 _id,
                                  uint _number)
                                  constant returns (uint256[50])
  {
    uint256[50] memory tc;
<span class="cstat-no" title="statement not covered" >    for(uint i = 0; i&lt;self.transactionInfo[_id][_number].confirmedOwners.length; i++){</span>
<span class="cstat-no" title="statement not covered" >      tc[i] = self.transactionInfo[_id][_number].confirmedOwners[i]</span>;
    }
<span class="cstat-no" title="statement not covered" >    return tc;</span>
  }
&nbsp;
  /// @dev Retrieve tx confirmation count
  /// @param self Wallet in contract storage
  /// @param _id ID of transaction requested
  /// @param _number The transaction index number
  /// @return uint Returns the current number of tx confirmations
  function getTransactionConfirmCount(WalletMainLib.WalletData storage self,
                           bytes32 _id,
                           uint _number)
                           constant returns(uint)
  {
    return self.transactionInfo[_id][_number].confirmCount;
  }
&nbsp;
  /// @dev Retrieve if transaction was successful
  /// @param self Wallet in contract storage
  /// @param _id ID of transaction requested
  /// @param _number The transaction index number
  /// @return bool Returns true if tx successfully executed, false otherwise
<span class="fstat-no" title="function not covered" >  function getTransactionSuccess(WalletMainLib.WalletData storage self,</span>
                                 bytes32 _id,
                                 uint _number)
                                 constant returns (bool)
  {
<span class="cstat-no" title="statement not covered" >    return self.transactionInfo[_id][_number].success;</span>
  }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Oct 14 2017 08:10:50 GMT-0300 (-03)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
